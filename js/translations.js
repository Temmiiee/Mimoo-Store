// Mimoo Store Translations
// French and English translations

const translations = {
  fr: {
    // Accessibility
    skipToContent: "Aller au contenu principal",
    
    // Navigation
    home: "Accueil",
    products: "Produits",
    about: "À propos",
    contact: "Contact",
    cart: "🛍️ Panier",
    
    // Hero Section
    heroTitle: "Explorer la boutique de Mimoo 🌸",
    heroSubtitle: "Découvrez d'incroyables porte-clés, impressions, badges, breloques et œuvres d'art originales inspirées de la nature et de la culture pop",
    shopNow: "Acheter Maintenant ✨",
    
    // Categories
    categories: "Catégories",
    allProducts: "Tous les produits",
    keychains: "🔑 Porte-clés",
    prints: "🖼️ Impressions",
    badges: "🏅 Badges",
    charms: "✨ Breloques",
    artwork: "🎨 Œuvres Originales",
    
    // Products Section
    ourCollection: "Notre Collection de Goodies 🛍️",
    addToCart: "Ajouter au Panier 🛒",
    
    // Pagination
    itemsPerPage: "Articles par page:",
    previous: "← Précédent",
    next: "Suivant →",
    page: "Page",
    of: "sur",
    
    // Cart
    yourCart: "Votre Panier 🛒",
    emptyCart: "Votre panier est vide! Commencez à acheter pour le remplir d'articles fantastiques! 🌈",
    total: "Total:",
    proceedToPayment: "Procéder au paiement ✨",
    
    // Payment Form
    paymentInfo: "Informations de paiement",
    fullName: "Nom complet *",
    email: "Email *",
    address: "Adresse *",
    cardNumber: "Numéro de carte *",
    expiry: "MM/AA *",
    cvv: "CVV *",
    backToCart: "Retour au panier",
    pay: "Payer",
    processing: "Traitement en cours... ⏳",
    paymentSuccess: "Paiement réussi! 🎉",
    orderNumber: "Commande #",
    thankYou: "Merci",
    confirmationEmail: "Un email de confirmation a été envoyé à",
    deliverySoon: "Vos articles seront livrés sous peu! ✨",
    
    // About Section
    aboutTitle: "À propos de Mimoo Store 💖",
    natureInspired: "Inspiré par la Nature",
    natureDesc: "Nos designs célèbrent la beauté de la nature avec des fleurs, des animaux et des paysages naturels qui apportent de la joie à votre quotidien.",
    popCultureFun: "Culture Pop Amusante",
    popCultureDesc: "De l'anime aux jeux vidéo, des films à la musique - nous créons des goodies qui représentent vos fandoms et intérêts préférés.",
    vibrantColors: "Couleurs Vibrantes",
    vibrantDesc: "La vie est trop courte pour des couleurs ennuyeuses! Nos produits présentent des palettes vives et joyeuses qui rendent chaque jour plus coloré.",
    originalArt: "Art Original",
    originalArtDesc: "Découvrez notre collection exclusive d'œuvres d'art originales, créées à la main avec passion et créativité.",
    
    // Contact Section
    contactTitle: "Contactez-nous! 📬",
    contactSubtitle: "Nous aimerions avoir de vos nouvelles!",
    contactText: "Des questions sur nos produits? Demandes de design personnalisé? Envie de dire bonjour? Contactez-nous!",
    followUs: "Suivez-nous pour les mises à jour!",
    yourName: "Votre nom",
    yourEmail: "Votre email",
    yourMessage: "Votre message",
    sendMessage: "Envoyer le message 💌",
    sending: "Envoi en cours... ✨",
    messageSent: "Message envoyé! 💌",
    
    // Footer
    footerTagline: "Votre destination vibrante pour les goodies nature et culture pop!",
    quickLinks: "Liens rapides",
    
    // Validation Messages
    fillAllFields: "Veuillez remplir tous les champs requis!",
    cartEmpty: "Votre panier est vide! Ajoutez quelques articles d'abord! 🛍️",
    
    // Product Categories Messages
    noProductsFound: "Aucun produit trouvé dans cette catégorie! 😔",
    checkBackSoon: "Revenez bientôt pour plus d'articles fantastiques! ✨"
  },
  
  en: {
    // Accessibility
    skipToContent: "Skip to main content",
    
    // Navigation
    home: "Home",
    products: "Products",
    about: "About",
    contact: "Contact",
    cart: "🛍️ Cart",
    
    // Hero Section
    heroTitle: "Explore Mimoo's Shop 🌸",
    heroSubtitle: "Discover amazing keychains, prints, badges, charms, and original artwork inspired by nature and pop culture",
    shopNow: "Shop Now ✨",
    
    // Categories
    categories: "Categories",
    allProducts: "All Products",
    keychains: "🔑 Keychains",
    prints: "🖼️ Prints",
    badges: "🏅 Badges",
    charms: "✨ Charms",
    artwork: "🎨 Original Artwork",
    
    // Products Section
    ourCollection: "Our Goodies Collection 🛍️",
    addToCart: "Add to Cart 🛒",
    
    // Pagination
    itemsPerPage: "Items per page:",
    previous: "← Previous",
    next: "Next →",
    page: "Page",
    of: "of",
    
    // Cart
    yourCart: "Your Shopping Cart 🛒",
    emptyCart: "Your cart is empty! Start shopping to fill it with amazing goodies! 🌈",
    total: "Total:",
    proceedToPayment: "Proceed to Payment ✨",
    
    // Payment Form
    paymentInfo: "Payment Information",
    fullName: "Full Name *",
    email: "Email *",
    address: "Address *",
    cardNumber: "Card Number *",
    expiry: "MM/YY *",
    cvv: "CVV *",
    backToCart: "Back to Cart",
    pay: "Pay",
    processing: "Processing... ⏳",
    paymentSuccess: "Payment Successful! 🎉",
    orderNumber: "Order #",
    thankYou: "Thank you",
    confirmationEmail: "A confirmation email has been sent to",
    deliverySoon: "Your items will be delivered soon! ✨",
    
    // About Section
    aboutTitle: "About Mimoo Store 💖",
    natureInspired: "Nature Inspired",
    natureDesc: "Our designs celebrate the beauty of nature with flowers, animals, and natural landscapes that bring joy to your everyday life.",
    popCultureFun: "Pop Culture Fun",
    popCultureDesc: "From anime to gaming, movies to music - we create goodies that represent your favorite fandoms and interests.",
    vibrantColors: "Vibrant Colors",
    vibrantDesc: "Life's too short for boring colors! Our products feature bright, cheerful palettes that make every day more colorful.",
    originalArt: "Original Art",
    originalArtDesc: "Discover our exclusive collection of original artwork, handcrafted with passion and creativity.",
    
    // Contact Section
    contactTitle: "Get In Touch! 📬",
    contactSubtitle: "We'd love to hear from you!",
    contactText: "Questions about our products? Custom design requests? Just want to say hi? Reach out!",
    followUs: "Follow us for updates!",
    yourName: "Your Name",
    yourEmail: "Your Email",
    yourMessage: "Your Message",
    sendMessage: "Send Message 💌",
    sending: "Sending... ✨",
    messageSent: "Message Sent! 💌",
    
    // Footer
    footerTagline: "Your vibrant destination for nature and pop culture goodies!",
    quickLinks: "Quick Links",
    
    // Validation Messages
    fillAllFields: "Please fill in all required fields!",
    cartEmpty: "Your cart is empty! Add some goodies first! 🛍️",
    
    // Product Categories Messages
    noProductsFound: "No products found in this category! 😔",
    checkBackSoon: "Check back soon for more amazing goodies! ✨"
  }
};

// Language Manager
class LanguageManager {
  constructor() {
    this.currentLanguage = this.detectLanguage();
    this.init();
  }
  
  detectLanguage() {
    // Check localStorage first
    const savedLang = localStorage.getItem('mimoo-language');
    if (savedLang && translations[savedLang]) {
      return savedLang;
    }
    
    // Auto-detect browser language
    const browserLang = navigator.language.substring(0, 2);
    return translations[browserLang] ? browserLang : 'en';
  }
  
  init() {
    this.updateLanguageButton();
    this.translatePage();
  }
  
  toggleLanguage() {
    this.currentLanguage = this.currentLanguage === 'fr' ? 'en' : 'fr';
    localStorage.setItem('mimoo-language', this.currentLanguage);
    this.updateLanguageButton();
    this.translatePage();
  }
  
  updateLanguageButton() {
    const langButton = document.getElementById('current-lang');
    if (langButton) {
      langButton.textContent = this.currentLanguage.toUpperCase();
    }
  }
  
  translatePage() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
      const key = element.getAttribute('data-translate');
      const translation = translations[this.currentLanguage][key];
      if (translation) {
        element.textContent = translation;
      }
    });
    
    // Update page title
    document.title = this.currentLanguage === 'fr' 
      ? '🌸 Mimoo Store - Goodies Nature & Culture Pop 🦋'
      : '🌸 Mimoo Store - Nature & Pop Culture Goodies 🦋';
      
    // Update placeholders
    this.updatePlaceholders();
    
    // Update dynamically generated content
    this.updateDynamicContent();
  }
  
  updatePlaceholders() {
    // Contact form placeholders
    const nameInput = document.querySelector('input[type="text"]');
    const emailInput = document.querySelector('input[type="email"]');
    const messageTextarea = document.querySelector('textarea');
    
    if (nameInput) nameInput.placeholder = this.t('yourName');
    if (emailInput) emailInput.placeholder = this.t('yourEmail');
    if (messageTextarea) messageTextarea.placeholder = this.t('yourMessage');
    
    // Payment form placeholders
    const cardInput = document.getElementById('card-number');
    const expiryInput = document.getElementById('expiry');
    const cvvInput = document.getElementById('cvv');
    
    if (cardInput) cardInput.placeholder = "1234 5678 9012 3456";
    if (expiryInput) expiryInput.placeholder = this.currentLanguage === 'fr' ? "12/25" : "12/25";
    if (cvvInput) cvvInput.placeholder = "123";
  }
  
  updateDynamicContent() {
    // Update pagination if it exists
    this.updatePaginationText();
    
    // Update cart total text
    this.updateCartText();
    
    // Update product cards if they exist
    this.updateProductCards();
  }
  
  updatePaginationText() {
    const pageInfo = document.getElementById('page-info');
    if (pageInfo && window.currentPage && window.totalProducts) {
      const totalPages = Math.ceil(window.totalProducts / window.itemsPerPage);
      pageInfo.textContent = `${this.t('page')} ${window.currentPage} ${this.t('of')} ${totalPages}`;
    }
    
    const prevBtn = document.getElementById('prev-page');
    const nextBtn = document.getElementById('next-page');
    if (prevBtn) prevBtn.textContent = this.t('previous');
    if (nextBtn) nextBtn.textContent = this.t('next');
  }
  
  updateCartText() {
    const emptyCartText = document.querySelector('.empty-cart');
    if (emptyCartText) {
      emptyCartText.textContent = this.t('emptyCart');
    }
  }
  
  updateProductCards() {
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    addToCartButtons.forEach(button => {
      button.textContent = this.t('addToCart');
    });
  }
  
  // Translation helper function
  t(key) {
    return translations[this.currentLanguage][key] || key;
  }
}

// Initialize language manager
let languageManager;
document.addEventListener('DOMContentLoaded', () => {
  languageManager = new LanguageManager();
  // Make it globally accessible
  window.languageManager = languageManager;
});
